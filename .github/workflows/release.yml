# This is a basic workflow to help you get started with Actions

name: CI

# Controls when the action will run. Triggers the workflow on push or pull request
# events but only for the master branch
on:
  push:
    branches: [ master ]

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
# NOTE: UNCOMMENT PUBLISH-DEPLOY WHEN READY TO DEPLOY

jobs:
  release:
      runs-on: ubuntu-latest
      steps:
        - name: Checkout
          uses: actions/checkout@v3
        - name: Semantic Release
          uses: cycjimmy/semantic-release-action@v3
          with:
            semantic_version: 16
            # you can set branches for semantic-release above v16.
            branches: |
              [
                '+([0-9])?(.{+([0-9]),x}).x',
                'master',
                'next',
                'next-major',
                {
                  name: 'beta',
                  prerelease: true
                },
                {
                  name: 'alpha',
                  prerelease: true
                }
              ]
          env:
            GITHUB_TOKEN: ${{ secrets.GH_TOKEN }}
            NPM_TOKEN: ${{ secrets.NPM_TOKEN }}